<div id="payment">
  <div class="row">
	<div class="span4">

      <form action="" method="POST" id="payment-form">
        <div class="row">
          <div class="span4">
            <div><strong>You're off the hook! Just use the testing information and click submit.</strong></div>
          </div>
        </div>
        
        <hr />
        
        <div class="row">
          <label class="span4">
            <div>Card Number</div>
            <input type="text" size="20" value="4242424242424242" autocomplete="off" class="card-number span4"/>
          </label>
        </div>

        <div class="row">
          
        </div>

        <div class="row">
          <label class="span1">
            <div>CVC</div>
            <input type="text" size="4" value="725" autocomplete="off" class="card-cvc span1"/>
          </label>
        </div>
        
        <div class="row">
          <label class="span3">
            <div>Expiration (MM/YYYY)</div>
            <input type="text" size="2" value="11" class="card-expiry-month span1"/>
            <span> / </span>
            <input type="text" size="4" value="2017" class="card-expiry-year span2"/>
          </label>
        </div>
        
        <hr />
        
        <a href="{% url ask %}" class="btn btn-white">return to requests</a>
        <button type="submit" class="btn btn-primary payment-submit-button">submit payment</button>
      </form>
    </div>

  </div>

</div>
<script type="text/javascript">
$(function() {
  $('#payment-form').submit(function(event) {
    // Disable the submit button to prevent repeated clicks
    $('.payment-submit-button').prop('disabled', true);

    Stripe.createToken({
      number: $('.card-number').val(),
      cvc: $('.card-cvc').val(),
      exp_month: $('.card-expiry-month').val(),
      exp_year: $('.card-expiry-year').val()
    }, stripeResponseHandler);

    // Prevent the form from submitting with the default action
    return false;
  });
});
</script>
